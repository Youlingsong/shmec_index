{"version":3,"sources":["webpack:///src/views/topic/list.vue","webpack:///./src/views/topic/list.vue?a346","webpack:///./src/views/topic/list.vue","webpack:///src/views/topic/detail.vue","webpack:///./src/views/topic/detail.vue?158f","webpack:///./src/views/topic/detail.vue"],"names":["list","getNewsInfo","next","_this","this","ajaxData","_this2","extends_default","codeId","pageInfo","rows","total","_this3","name","ajaxAllData","val","_this4","searchInfo","showAll","classesId","id","topic_list","render","_vm","_h","$createElement","_c","_self","staticClass","on","tab-click","tabClick","model","value","callback","$$v","expression","attrs","label","_v","_l","item","key","classes","String","placeholder","clearable","trim","slot","click","searchData","_e","_s","$event","goDetail","title","publishTime","split","background","layout","current-page","pageNumber","current-change","handleCurrentChange","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","detail","bc","getRouterInfo","breadDataHandle","newsId","res","files","topic_detail","separator-class","index","to","newsDetail","source","domProps","innerHTML","content","filesList","uid","type","disabled","switch","downloadFiles"],"mappings":"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","file":"static/js/4.0ada7e1f8e85d8d1b52a.js","sourcesContent":["<template>\r\n  <div class=\"news-template g-in\">\r\n    <div class=\"news-list-top clearfix\">\r\n      <!-- tabs切换 -->\r\n      <el-tabs class=\"fl\" v-model=\"codeId\" @tab-click=\"tabClick\">\r\n        <el-tab-pane label=\"全部\"></el-tab-pane>\r\n        <el-tab-pane :label=\"item.classes\" :name=\"String(item.classesId)\" v-for=\"item in tabList\" :key=\"item.classesId\"></el-tab-pane>\r\n      </el-tabs>\r\n      <!-- 搜索 -->\r\n      <div class=\"fr\">\r\n        <el-input placeholder=\"搜索专题数据...\" v-model.trim=\"searchInfo\" class=\"input-with-select\" clearable>\r\n          <el-button slot=\"append\" class=\"search-btn\" @click=\"searchData\">搜索</el-button>\r\n        </el-input>\r\n      </div>\r\n    </div>\r\n   \r\n    <div class=\"news-list-content\">\r\n      <ul class=\"list\" v-if=\"showAll\">\r\n        <p class=\"noData\" v-if=\"noDataText\">抱歉，未找到您所需要的内容</p>\r\n        <li class=\"clearfix\" v-for=\"item in allNewsList\" :key=\"item.id\">\r\n          <p class=\"classes-tip fl\">\r\n            <span>{{item.classes}}</span>\r\n          </p>\r\n          <p class=\"all-content fl\" @click=\"goDetail(item)\">{{ item.title }}</p>\r\n          <p class=\"time fr\">{{ item.publishTime&&item.publishTime.split(' ')[0]}}</p>\r\n        </li>\r\n      </ul>\r\n      <ul class=\"list\" v-else>\r\n        <p class=\"noData\" v-if=\"noDataText\">抱歉，未找到您所需要的内容</p>\r\n        <li class=\"clearfix\" v-for=\"item in newsList\" :key=\"item.id\">\r\n          <p class=\"content fl\" @click=\"goDetail(item)\">{{ item.title }}</p>\r\n          <p class=\"time fr\">{{ item.publishTime&&item.publishTime.split(' ')[0]}}</p>\r\n        </li>\r\n      </ul>\r\n      <el-pagination background layout=\"prev, pager, next\" :total=\"total\" :current-page=\"pageInfo.pageNumber\" @current-change=\"handleCurrentChange\"></el-pagination>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Cookies from 'js-cookie'\r\nexport default {\r\n  data() {\r\n    return {\r\n      codeId: String(Cookies.get('topic')),\r\n      tabList: [],\r\n      searchInfo: '',\r\n      pageInfo: {\r\n        pageNumber: 1,\r\n        pageSize: 10\r\n      },\r\n      newsList: [],\r\n      allNewsList: [],\r\n      total: 0,\r\n      noDataText: false,\r\n      showAll: false\r\n    }\r\n  },\r\n  created() {\r\n    this.getNewsInfo()\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    if(!Cookies.get('topic') || from.name !== 'topicdetail'){\r\n      Cookies.set('topic', 1) \r\n    }\r\n    next()\r\n  },\r\n  methods: {\r\n    // 请求新闻数据\r\n    async getNewsInfo() {\r\n      const res = await this.$ajaxPost(this.projectName + '/topic/findTopicClessesList.do')\r\n      this.tabList = res.filter(item => item.parentId === 0)\r\n      this.ajaxData()\r\n    },\r\n    // 发送数据请求\r\n    async ajaxData() {\r\n      const res = await this.$ajaxPost(this.projectName + '/topic/finds.do', {\r\n        classesId: this.codeId,\r\n        ...this.pageInfo\r\n      })\r\n      // console.log(res)\r\n      this.noDataText = res.total === 0\r\n      this.newsList = res.rows\r\n      this.total = res.total\r\n    },\r\n    // 请求全部数据ajax\r\n    async ajaxAllData() {\r\n      const res = await this.$ajaxPost(this.projectName + '/topic/finds.do', this.pageInfo)\r\n      // console.log(res)\r\n      this.noDataText = res.total === 0\r\n      this.allNewsList = res.rows\r\n      this.total = res.total\r\n    },\r\n    tabClick(tab, event) {\r\n      // console.log(tab)\r\n      this.pageInfo.pageNumber = 1\r\n      if(!!tab.name) {\r\n        this.showAll = false\r\n        this.allNewsList = []\r\n        Cookies.set('topic', Number(tab.name))\r\n        this.ajaxData()\r\n      } else {\r\n        this.showAll = true\r\n        this.ajaxAllData()\r\n      }\r\n    },\r\n    // 分页\r\n    handleCurrentChange(val) {\r\n      this.pageInfo.pageNumber = val\r\n      if(!this.showAll){\r\n        this.ajaxData()\r\n      } else {\r\n        this.ajaxAllData()\r\n      }\r\n    },\r\n    // 搜索\r\n    async searchData() {\r\n      this.pageInfo.pageNumber = 1\r\n      if(!this.searchInfo) {\r\n        this.$message.warning('请输入搜索内容...')\r\n        return\r\n      }\r\n      const res = await this.$ajaxPost(this.projectName + '/topic/finds.do', !this.showAll ? {\r\n        classesId: this.codeId,\r\n        ...this.pageInfo,\r\n        title: this.searchInfo\r\n      } : {\r\n        ...this.pageInfo,\r\n        title: this.searchInfo\r\n      })\r\n      // console.log(res)\r\n      this.noDataText = res.total === 0\r\n      if(!this.showAll){\r\n        this.newsList = res.rows\r\n      } else {\r\n        this.allNewsList = res.rows\r\n      }\r\n      this.total = res.total\r\n    },\r\n    // 进入详情\r\n    goDetail(item) {\r\n      // console.log(item)\r\n      Cookies.set('topic', item.classesId)\r\n      this.$router.push({\r\n        name: 'topicdetail',\r\n        params: {\r\n          id: item.id\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.news-template{\r\n  min-height: 600px;\r\n  margin: 40px auto !important;\r\n  .news-list-top{\r\n    margin: 0 0 20px;\r\n    .el-tabs{\r\n      margin-left: 5px;\r\n      .el-tabs__nav{\r\n        .el-tabs__item{\r\n          font-size: 16px;\r\n          color: #797979;\r\n        }\r\n        .el-tabs__item.is-active{\r\n          color: #00aec4 !important;\r\n        }\r\n      }\r\n    }\r\n    .el-input{\r\n      .el-input-group__append{\r\n        background-color: #E0AD78;\r\n        color: #fff;\r\n        border: #E0AD78;\r\n        border-left: none;\r\n      }\r\n    }\r\n  }\r\n  .news-list-content{\r\n    background-color: #fff;\r\n    border:1px solid #E4E4E4;\r\n    box-sizing: border-box;\r\n    padding: 10px;\r\n    .el-breadcrumb{\r\n      font-size: 12px;\r\n      margin-bottom: 10px;\r\n    }\r\n    .list{\r\n      box-sizing: border-box;\r\n      padding: 0 30px;\r\n      .noData{\r\n        text-align: center;\r\n        color: #ccc;\r\n      }\r\n      li{\r\n        height: 56px;\r\n        border-bottom: 1px solid #E8E8E8;\r\n        cursor: pointer;\r\n        &:last-child{\r\n          border-bottom: 0;\r\n        }\r\n        &:hover{\r\n          background-color: #FBFBFB;\r\n          border-radius: 4px;\r\n        }\r\n        &:hover p.content, &:focus p.content{\r\n          color: #00aec4;\r\n        }\r\n        &:hover .content::before, &:focus .content::before{\r\n          background-color: #00aec4 !important;\r\n        }\r\n        .classes-tip{\r\n          height: 100%;\r\n          line-height: 56px;\r\n          margin: 0;\r\n          font-size: 12px;\r\n          color: #fff;\r\n          span{\r\n            background-color: #00aec4;\r\n            padding: 2px 4px;\r\n            border-radius: 2px;\r\n          }\r\n        }\r\n        .content{\r\n          width: 80%;\r\n          height: 100%;\r\n          margin: 0;\r\n          line-height: 56px;\r\n          text-overflow: ellipsis;\r\n          white-space: nowrap;\r\n          overflow: hidden;\r\n          color: #4A4A4A;\r\n          font-size: 15px;\r\n          box-sizing: border-box;\r\n          padding-left: 20px;\r\n          position: relative;\r\n          &:before{\r\n            content: '';\r\n            display: block;\r\n            width: 6px;\r\n            height: 6px;\r\n            background-color: #D8D8D8;\r\n            position: absolute;\r\n            top: 50%;\r\n            left: 0;\r\n            transform: translate(0, -50%);\r\n          }\r\n        }\r\n        .all-content{\r\n          width: 80%;\r\n          height: 100%;\r\n          margin: 0;\r\n          line-height: 56px;\r\n          text-overflow: ellipsis;\r\n          white-space: nowrap;\r\n          overflow: hidden;\r\n          color: #4A4A4A;\r\n          font-size: 15px;\r\n          box-sizing: border-box;\r\n          padding-left: 20px;\r\n        }\r\n        .time{\r\n          font-size: 12px;\r\n          color: #797979;\r\n          height: 100%;\r\n          margin: 0;\r\n          line-height: 56px;\r\n        }\r\n      }\r\n    }\r\n    .el-pagination{\r\n      box-sizing: border-box;\r\n      padding: 10px 20px;\r\n      text-align: right;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/topic/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"news-template g-in\"},[_c('div',{staticClass:\"news-list-top clearfix\"},[_c('el-tabs',{staticClass:\"fl\",on:{\"tab-click\":_vm.tabClick},model:{value:(_vm.codeId),callback:function ($$v) {_vm.codeId=$$v},expression:\"codeId\"}},[_c('el-tab-pane',{attrs:{\"label\":\"全部\"}}),_vm._v(\" \"),_vm._l((_vm.tabList),function(item){return _c('el-tab-pane',{key:item.classesId,attrs:{\"label\":item.classes,\"name\":String(item.classesId)}})})],2),_vm._v(\" \"),_c('div',{staticClass:\"fr\"},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"搜索专题数据...\",\"clearable\":\"\"},model:{value:(_vm.searchInfo),callback:function ($$v) {_vm.searchInfo=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"searchInfo\"}},[_c('el-button',{staticClass:\"search-btn\",attrs:{\"slot\":\"append\"},on:{\"click\":_vm.searchData},slot:\"append\"},[_vm._v(\"搜索\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"news-list-content\"},[(_vm.showAll)?_c('ul',{staticClass:\"list\"},[(_vm.noDataText)?_c('p',{staticClass:\"noData\"},[_vm._v(\"抱歉，未找到您所需要的内容\")]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.allNewsList),function(item){return _c('li',{key:item.id,staticClass:\"clearfix\"},[_c('p',{staticClass:\"classes-tip fl\"},[_c('span',[_vm._v(_vm._s(item.classes))])]),_vm._v(\" \"),_c('p',{staticClass:\"all-content fl\",on:{\"click\":function($event){_vm.goDetail(item)}}},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('p',{staticClass:\"time fr\"},[_vm._v(_vm._s(item.publishTime&&item.publishTime.split(' ')[0]))])])})],2):_c('ul',{staticClass:\"list\"},[(_vm.noDataText)?_c('p',{staticClass:\"noData\"},[_vm._v(\"抱歉，未找到您所需要的内容\")]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.newsList),function(item){return _c('li',{key:item.id,staticClass:\"clearfix\"},[_c('p',{staticClass:\"content fl\",on:{\"click\":function($event){_vm.goDetail(item)}}},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('p',{staticClass:\"time fr\"},[_vm._v(_vm._s(item.publishTime&&item.publishTime.split(' ')[0]))])])})],2),_vm._v(\" \"),_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.total,\"current-page\":_vm.pageInfo.pageNumber},on:{\"current-change\":_vm.handleCurrentChange}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6b857357\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/topic/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6b857357\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6b857357\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/topic/list.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"news-details g-in\">\r\n    <!-- 面包屑 -->\r\n    <div class=\"detail-bread\">\r\n      <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n        <el-breadcrumb-item v-for=\"(item,index) in breadList\" :key=\"index\" :to=\"item.name?{name: item.name}:''\">{{ item.title }}</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </div>\r\n\r\n    <div class=\"news-detail-contents\">\r\n      <div class=\"detail-top\">\r\n        <h1>{{ newsDetail.title }}</h1>\r\n        <p>发布时间：<span>{{newsDetail.publishTime&&newsDetail.publishTime.split(' ')[0]}}</span>&emsp;&emsp;&emsp;&emsp;来源：<span>{{ newsDetail.source }}</span></p>\r\n      </div>\r\n      <div class=\"detail-content\" v-html=\"newsDetail.content\"></div>\r\n      <div v-if=\"filesList.length\" class=\"down-file\">\r\n        <p>查看附件</p>\r\n        <ul>\r\n          <li v-for=\"item in filesList\" :key=\"item.uid\">\r\n            <i class=\"iconfont icon-zip-\"></i>&nbsp;\r\n            <span>{{item.name}}</span>&nbsp;\r\n            <el-button type=\"text\" :disabled=\"!item.switch\" @click=\"downloadFiles(item)\">{{item.switch?'下载':'不可下载'}}</el-button>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <BackTop></BackTop>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Cookies from 'js-cookie'\r\nexport default {\r\n  data() {\r\n    return {\r\n      breadList: this.$route.meta.bc,\r\n      classesId: Cookies.get('topic'),\r\n      newsId: this.$route.params.id,\r\n      newsDetail: {},\r\n      filesList: []\r\n    }\r\n  },\r\n  created() {\r\n    this.getRouterInfo()\r\n  },\r\n  methods: {\r\n    getRouterInfo() {\r\n      this.breadDataHandle()\r\n      this.ajaxData()\r\n    },\r\n    // 请求新闻 数据\r\n    async ajaxData() {\r\n      const res = await this.$ajaxPost(this.projectName + '/topic/find.do', {\r\n        id: this.newsId\r\n      })\r\n      // console.log(res)\r\n      this.newsDetail = res\r\n      this.filesList = JSON.parse(res.files)\r\n      // console.log(this.filesList)\r\n    },\r\n    // 面包屑数据处理\r\n    async breadDataHandle() {\r\n      this.breadList = this.breadList.slice(0, 1)\r\n      const res = await this.$ajaxPost(this.projectName + '/topic/findTopicClessesList.do')\r\n      let list = res.filter(item => item.parentId === 0)\r\n      let newsInfo = list.filter(el => el.classesId === Number(this.classesId))[0]\r\n      this.breadList.push({\r\n        title: newsInfo.classes,\r\n        name: 'topiclist'\r\n      })\r\n      this.breadList.push({\r\n        title: '详情'\r\n      })\r\n    },\r\n    async downloadFiles(item) {\r\n      // console.log(item)\r\n      window.open(this.projectName + '/topic/download.do?id='+this.newsId+'&filePath='+item.url, '_blank')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.news-details{\r\n  min-height: 600px;\r\n  .detail-bread{\r\n    background-color: #FFF;\r\n    box-sizing: border-box;\r\n    padding: 0 20px;\r\n    height: 48px;\r\n    margin: 50px 0 20px;\r\n    .el-breadcrumb{\r\n      line-height: 48px;\r\n    }\r\n  }\r\n  .news-detail-contents{\r\n    background-color: #FFF;\r\n    box-sizing: border-box;\r\n    padding: 35px 20px;\r\n    margin-bottom: 80px;\r\n    .detail-top{\r\n      width: 100%;\r\n      border-bottom: 1px solid #E8E8E8;\r\n      h1{\r\n        font-weight: 400;\r\n        font-size: 24px;\r\n        text-align: center;\r\n        width: 80%;\r\n        margin: 0 auto;\r\n        line-height: 1.5;\r\n      }\r\n      p{\r\n        margin: 30px 0;\r\n        text-align: center;\r\n      }\r\n    }\r\n    .detail-content{\r\n      box-sizing: border-box;\r\n      padding: 24px;\r\n      line-height: 1.5;\r\n    }\r\n    .down-file{\r\n      border-top: 1px solid #E8E8E8;\r\n      box-sizing: border-box;\r\n      padding: 20px;\r\n      p{\r\n        font-weight: 700;\r\n        margin-bottom: 20px;\r\n      }\r\n      ul{\r\n        li{\r\n          border: 1px solid #D5D5D5;\r\n          padding: 10px;\r\n          border-radius: 8px;\r\n          display: inline-block;\r\n          margin-right: 40px;\r\n          i{\r\n            color: rgb(77, 151, 255);\r\n            font-size: 26px;\r\n            vertical-align: middle;\r\n          }\r\n          span{\r\n            vertical-align: middle;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/topic/detail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"news-details g-in\"},[_c('div',{staticClass:\"detail-bread\"},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},_vm._l((_vm.breadList),function(item,index){return _c('el-breadcrumb-item',{key:index,attrs:{\"to\":item.name?{name: item.name}:''}},[_vm._v(_vm._s(item.title))])}))],1),_vm._v(\" \"),_c('div',{staticClass:\"news-detail-contents\"},[_c('div',{staticClass:\"detail-top\"},[_c('h1',[_vm._v(_vm._s(_vm.newsDetail.title))]),_vm._v(\" \"),_c('p',[_vm._v(\"发布时间：\"),_c('span',[_vm._v(_vm._s(_vm.newsDetail.publishTime&&_vm.newsDetail.publishTime.split(' ')[0]))]),_vm._v(\"    来源：\"),_c('span',[_vm._v(_vm._s(_vm.newsDetail.source))])])]),_vm._v(\" \"),_c('div',{staticClass:\"detail-content\",domProps:{\"innerHTML\":_vm._s(_vm.newsDetail.content)}}),_vm._v(\" \"),(_vm.filesList.length)?_c('div',{staticClass:\"down-file\"},[_c('p',[_vm._v(\"查看附件\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.filesList),function(item){return _c('li',{key:item.uid},[_c('i',{staticClass:\"iconfont icon-zip-\"}),_vm._v(\" \\n          \"),_c('span',[_vm._v(_vm._s(item.name))]),_vm._v(\" \\n          \"),_c('el-button',{attrs:{\"type\":\"text\",\"disabled\":!item.switch},on:{\"click\":function($event){_vm.downloadFiles(item)}}},[_vm._v(_vm._s(item.switch?'下载':'不可下载'))])],1)}))]):_vm._e()]),_vm._v(\" \"),_c('BackTop')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-224ca34a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/topic/detail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-224ca34a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./detail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./detail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./detail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-224ca34a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./detail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/topic/detail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}