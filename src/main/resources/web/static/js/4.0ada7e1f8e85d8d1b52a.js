webpackJsonp([4],{"0TEJ":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),n=a.n(s),i=a("Xxa5"),r=a.n(i),o=a("exGp"),l=a.n(o),c=a("lbHh"),u=a.n(c),p={data:function(){return{codeId:String(u.a.get("topic")),tabList:[],searchInfo:"",pageInfo:{pageNumber:1,pageSize:10},newsList:[],allNewsList:[],total:0,noDataText:!1,showAll:!1}},created:function(){this.getNewsInfo()},beforeRouteEnter:function(t,e,a){u.a.get("topic")&&"topicdetail"===e.name||u.a.set("topic",1),a()},methods:{getNewsInfo:function(){var t=this;return l()(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$ajaxPost(t.projectName+"/topic/findTopicClessesList.do");case 2:a=e.sent,t.tabList=a.filter(function(t){return 0===t.parentId}),t.ajaxData();case 5:case"end":return e.stop()}},e,t)}))()},ajaxData:function(){var t=this;return l()(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$ajaxPost(t.projectName+"/topic/finds.do",n()({classesId:t.codeId},t.pageInfo));case 2:a=e.sent,t.noDataText=0===a.total,t.newsList=a.rows,t.total=a.total;case 6:case"end":return e.stop()}},e,t)}))()},ajaxAllData:function(){var t=this;return l()(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$ajaxPost(t.projectName+"/topic/finds.do",t.pageInfo);case 2:a=e.sent,t.noDataText=0===a.total,t.allNewsList=a.rows,t.total=a.total;case 6:case"end":return e.stop()}},e,t)}))()},tabClick:function(t,e){this.pageInfo.pageNumber=1,t.name?(this.showAll=!1,this.allNewsList=[],u.a.set("topic",Number(t.name)),this.ajaxData()):(this.showAll=!0,this.ajaxAllData())},handleCurrentChange:function(t){this.pageInfo.pageNumber=t,this.showAll?this.ajaxAllData():this.ajaxData()},searchData:function(){var t=this;return l()(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.pageInfo.pageNumber=1,t.searchInfo){e.next=4;break}return t.$message.warning("请输入搜索内容..."),e.abrupt("return");case 4:return e.next=6,t.$ajaxPost(t.projectName+"/topic/finds.do",t.showAll?n()({},t.pageInfo,{title:t.searchInfo}):n()({classesId:t.codeId},t.pageInfo,{title:t.searchInfo}));case 6:a=e.sent,t.noDataText=0===a.total,t.showAll?t.allNewsList=a.rows:t.newsList=a.rows,t.total=a.total;case 10:case"end":return e.stop()}},e,t)}))()},goDetail:function(t){u.a.set("topic",t.classesId),this.$router.push({name:"topicdetail",params:{id:t.id}})}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"news-template g-in"},[a("div",{staticClass:"news-list-top clearfix"},[a("el-tabs",{staticClass:"fl",on:{"tab-click":t.tabClick},model:{value:t.codeId,callback:function(e){t.codeId=e},expression:"codeId"}},[a("el-tab-pane",{attrs:{label:"全部"}}),t._v(" "),t._l(t.tabList,function(t){return a("el-tab-pane",{key:t.classesId,attrs:{label:t.classes,name:String(t.classesId)}})})],2),t._v(" "),a("div",{staticClass:"fr"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"搜索专题数据...",clearable:""},model:{value:t.searchInfo,callback:function(e){t.searchInfo="string"==typeof e?e.trim():e},expression:"searchInfo"}},[a("el-button",{staticClass:"search-btn",attrs:{slot:"append"},on:{click:t.searchData},slot:"append"},[t._v("搜索")])],1)],1)],1),t._v(" "),a("div",{staticClass:"news-list-content"},[t.showAll?a("ul",{staticClass:"list"},[t.noDataText?a("p",{staticClass:"noData"},[t._v("抱歉，未找到您所需要的内容")]):t._e(),t._v(" "),t._l(t.allNewsList,function(e){return a("li",{key:e.id,staticClass:"clearfix"},[a("p",{staticClass:"classes-tip fl"},[a("span",[t._v(t._s(e.classes))])]),t._v(" "),a("p",{staticClass:"all-content fl",on:{click:function(a){t.goDetail(e)}}},[t._v(t._s(e.title))]),t._v(" "),a("p",{staticClass:"time fr"},[t._v(t._s(e.publishTime&&e.publishTime.split(" ")[0]))])])})],2):a("ul",{staticClass:"list"},[t.noDataText?a("p",{staticClass:"noData"},[t._v("抱歉，未找到您所需要的内容")]):t._e(),t._v(" "),t._l(t.newsList,function(e){return a("li",{key:e.id,staticClass:"clearfix"},[a("p",{staticClass:"content fl",on:{click:function(a){t.goDetail(e)}}},[t._v(t._s(e.title))]),t._v(" "),a("p",{staticClass:"time fr"},[t._v(t._s(e.publishTime&&e.publishTime.split(" ")[0]))])])})],2),t._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.pageInfo.pageNumber},on:{"current-change":t.handleCurrentChange}})],1)])},staticRenderFns:[]};var f=a("VU/8")(p,d,!1,function(t){a("OIre")},null,null);e.default=f.exports},OIre:function(t,e){},RcyG:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Xxa5"),n=a.n(s),i=a("exGp"),r=a.n(i),o=a("lbHh"),l=a.n(o),c={data:function(){return{breadList:this.$route.meta.bc,classesId:l.a.get("topic"),newsId:this.$route.params.id,newsDetail:{},filesList:[]}},created:function(){this.getRouterInfo()},methods:{getRouterInfo:function(){this.breadDataHandle(),this.ajaxData()},ajaxData:function(){var t=this;return r()(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$ajaxPost(t.projectName+"/topic/find.do",{id:t.newsId});case 2:a=e.sent,t.newsDetail=a,t.filesList=JSON.parse(a.files);case 5:case"end":return e.stop()}},e,t)}))()},breadDataHandle:function(){var t=this;return r()(n.a.mark(function e(){var a,s,i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.breadList=t.breadList.slice(0,1),e.next=3,t.$ajaxPost(t.projectName+"/topic/findTopicClessesList.do");case 3:a=e.sent,s=a.filter(function(t){return 0===t.parentId}),i=s.filter(function(e){return e.classesId===Number(t.classesId)})[0],t.breadList.push({title:i.classes,name:"topiclist"}),t.breadList.push({title:"详情"});case 8:case"end":return e.stop()}},e,t)}))()},downloadFiles:function(t){var e=this;return r()(n.a.mark(function a(){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:window.open(e.projectName+"/topic/download.do?id="+e.newsId+"&filePath="+t.url,"_blank");case 1:case"end":return a.stop()}},a,e)}))()}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"news-details g-in"},[a("div",{staticClass:"detail-bread"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},t._l(t.breadList,function(e,s){return a("el-breadcrumb-item",{key:s,attrs:{to:e.name?{name:e.name}:""}},[t._v(t._s(e.title))])}))],1),t._v(" "),a("div",{staticClass:"news-detail-contents"},[a("div",{staticClass:"detail-top"},[a("h1",[t._v(t._s(t.newsDetail.title))]),t._v(" "),a("p",[t._v("发布时间："),a("span",[t._v(t._s(t.newsDetail.publishTime&&t.newsDetail.publishTime.split(" ")[0]))]),t._v("    来源："),a("span",[t._v(t._s(t.newsDetail.source))])])]),t._v(" "),a("div",{staticClass:"detail-content",domProps:{innerHTML:t._s(t.newsDetail.content)}}),t._v(" "),t.filesList.length?a("div",{staticClass:"down-file"},[a("p",[t._v("查看附件")]),t._v(" "),a("ul",t._l(t.filesList,function(e){return a("li",{key:e.uid},[a("i",{staticClass:"iconfont icon-zip-"}),t._v(" \n          "),a("span",[t._v(t._s(e.name))]),t._v(" \n          "),a("el-button",{attrs:{type:"text",disabled:!e.switch},on:{click:function(a){t.downloadFiles(e)}}},[t._v(t._s(e.switch?"下载":"不可下载"))])],1)}))]):t._e()]),t._v(" "),a("BackTop")],1)},staticRenderFns:[]};var p=a("VU/8")(c,u,!1,function(t){a("zGkl")},null,null);e.default=p.exports},zGkl:function(t,e){}});
//# sourceMappingURL=4.0ada7e1f8e85d8d1b52a.js.map