{"version":3,"sources":["webpack:///./src/views/news/component/query.vue?c8a4","webpack:///./src/views/news/component/query.vue","webpack:///src/views/news/component/query.vue","webpack:///src/views/news/list.vue","webpack:///./src/views/news/list.vue?b8d2","webpack:///./src/views/news/list.vue","webpack:///src/views/news/component/add.vue","webpack:///./src/views/news/component/add.vue?6522","webpack:///./src/views/news/component/add.vue","webpack:///src/views/about/index.vue","webpack:///./src/views/news/index.vue?a639","webpack:///./src/views/news/index.vue","webpack:///src/views/news/combox.vue","webpack:///./src/views/news/combox.vue?ad8b","webpack:///./src/views/news/combox.vue"],"names":["component_query","render","_vm","this","_h","$createElement","_c","_self","ref","attrs","model","formValidate","label-width","span","label","prop","placeholder","value","callback","$$v","$set","expression","_v","clearable","_l","options","item","key","_s","text","type","on","click","$event","handleSubmit","staticStyle","margin-left","handleReset","staticRenderFns","news_component_query","__webpack_require__","normalizeComponent","_this","resetFields","list","queryForm","loadListData","titleImageUrl","h","params","row","author","source","summary","publishFlag","status","publishTime","split","_this2","id","title","classesId","content","priority","_this3","then","response","remove","_this4","rows","total","page","news_list","initList","columns","data","loading","no-data-text","staticClass","slot","addRow","show-total","on-change","pageChange","views_news_list","list_normalizeComponent","ssrContext","add","getSource","html","res","_this5","modifySubmit","addSubmit","url","error","component_add","icon","rules","ruleValidate","action","projectName","name","accept","on-success","uploadS","on-error","uploadE","before-upload","beforeUpload","on-remove","removeUpload","default-file-list","defaultList","color","filterable","classes","max","min","format","height","width","pluginsPath","loadStyleMode","resizeType","wellFormatMode","allowFileManager","uploadJson","on-content-change","onEditorChange","modify","news","add_normalizeComponent","info","_ref","flag","_ref2","views_news","currentView","tag","isAdd","isModify","addNews","modifyNews","cancelAdd","news_Component","news_normalizeComponent","__webpack_exports__","combox","required","message","trigger","getParentList","clickId","_this6","valid","parentId","_this7","news_combox","clickRadio","parentClasses","text-align","size","disabled","modifyClassify","ghost","addClassify","margin-top","textTips","mask-closable","closable","addClassesModel","Component"],"mappings":"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","file":"static/js/5.82873f38660e8586c92e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Form',{ref:\"formValidate\",attrs:{\"model\":_vm.formValidate,\"label-width\":80}},[_c('Row',[_c('Col',{attrs:{\"span\":8}},[_c('FormItem',{attrs:{\"label\":\"标题\",\"prop\":\"title\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入新闻标题...\"},model:{value:(_vm.formValidate.title),callback:function ($$v) {_vm.$set(_vm.formValidate, \"title\", $$v)},expression:\"formValidate.title\"}})],1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":5}},[_c('FormItem',{attrs:{\"label\":\"是否显示\",\"prop\":\"publishFlag\"}},[_c('Select',{attrs:{\"placeholder\":\"请选择是否在首页显示...\",\"clearable\":\"\"},model:{value:(_vm.formValidate.publishFlag),callback:function ($$v) {_vm.$set(_vm.formValidate, \"publishFlag\", $$v)},expression:\"formValidate.publishFlag\"}},_vm._l((_vm.options.publishFlag),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.text))])}))],1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":5}},[_c('FormItem',{attrs:{\"label\":\"状态\",\"prop\":\"status\"}},[_c('Select',{attrs:{\"placeholder\":\"请选择状态...\",\"clearable\":\"\"},model:{value:(_vm.formValidate.status),callback:function ($$v) {_vm.$set(_vm.formValidate, \"status\", $$v)},expression:\"formValidate.status\"}},_vm._l((_vm.options.status),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.text))])}))],1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":6}},[_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.handleSubmit('formValidate')}}},[_vm._v(\"确定\")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-left\":\"8px\"},attrs:{\"type\":\"ghost\"},on:{\"click\":_vm.handleReset}},[_vm._v(\"重置\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dfe95836\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/news/component/query.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./query.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./query.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-dfe95836\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./query.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/news/component/query.vue\n// module id = null\n// module chunks = ","<template>\r\n    <Form ref=\"formValidate\" :model=\"formValidate\" :label-width=\"80\">\r\n        <Row>\r\n            <Col :span=\"8\">\r\n                <FormItem label=\"标题\" prop=\"title\">\r\n                    <Input v-model=\"formValidate.title\" placeholder=\"请输入新闻标题...\"></Input>\r\n                </FormItem>\r\n            </Col>\r\n            <Col :span=\"5\">\r\n                <FormItem label=\"是否显示\" prop=\"publishFlag\">\r\n                    <Select v-model=\"formValidate.publishFlag\" placeholder=\"请选择是否在首页显示...\" clearable>\r\n                        <Option :value=\"item.value\" v-for=\"item in options.publishFlag\" :key=\"item.value\">{{item.text}}</Option>\r\n                    </Select>\r\n                </FormItem>\r\n            </Col>\r\n            <Col :span=\"5\">\r\n                <FormItem label=\"状态\" prop=\"status\">\r\n                    <Select v-model=\"formValidate.status\" placeholder=\"请选择状态...\" clearable>\r\n                        <Option :value=\"item.value\" v-for=\"item in options.status\" :key=\"item.value\">{{item.text}}</Option>\r\n                    </Select>\r\n                </FormItem>\r\n            </Col>\r\n            <Col :span=\"6\">\r\n                <FormItem>\r\n                    <Button type=\"primary\" @click=\"handleSubmit('formValidate')\">确定</Button>\r\n                    <Button type=\"ghost\" @click=\"handleReset\" style=\"margin-left: 8px\">重置</Button>\r\n                </FormItem>\r\n            </Col>\r\n        </Row>\r\n    </Form>\r\n</template>\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                options: {\r\n                    publishFlag:[{text:'显示',value:1},{text:'不显示',value:2}],\r\n                    status:[{text:'发布',value:1},{text:'草稿',value:2}]\r\n                },\r\n                formValidate: {\r\n                    title: '',\r\n                    publishFlag:'',\r\n                    status: ''\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            handleSubmit(name) {\r\n                this.$refs[name].validate((valid) => {\r\n                    if (valid) {\r\n                        this.$emit('initList', this.formValidate)\r\n                    } else {\r\n                        this.$Message.error('搜索条件有误');\r\n                    }\r\n                })\r\n            },\r\n            handleReset(name) {\r\n                this.$refs['formValidate'].resetFields();\r\n                this.$emit('initList', this.formValidate)\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/news/component/query.vue","<template>\r\n  <div>\r\n    <!-- <add-from :isAdd=\"isAdd\" :modify=\"ismodify\" @cancelAdd=\"cancelAdd\" :formValidate=\"editList\" @getList=\"loadListData\"></add-from> -->\r\n    <query-form @initList=\"loadListData\"></query-form>\r\n    <Table :columns=\"columns\" :data=\"list\" :loading=\"loading\" no-data-text=\"没有满足条件的数据.\">\r\n      <Button type=\"ghost\" slot=\"header\" class=\"m-marlr\" @click=\"addRow\">新增</Button>\r\n    </Table>\r\n    <Page :total=\"total\" show-total @on-change=\"pageChange\" class=\"page\"></Page>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import queryForm from './component/query.vue'\r\n  import iView from 'iview'\r\n  export default {\r\n    components: {\r\n      queryForm\r\n    },\r\n    created() {\r\n      this.loadListData()\r\n    },\r\n    data() {\r\n      return {\r\n        isAdd: false,\r\n        ismodify:false,\r\n        editList: {},\r\n        list: [],\r\n        loading: false,\r\n        columns: [\r\n          {\r\n            title: '标题图',\r\n            key: 'titleImageUrl',\r\n            align: 'center',\r\n            render: (h, params) => {\r\n              return h('img', {\r\n                attrs: {\r\n                  src: params.row.titleImageUrl\r\n                },\r\n                style: {\r\n                  'max-width': '50px',\r\n                  'max-height': '50px'\r\n                }\r\n              });\r\n            },\r\n          },\r\n          {\r\n            title: '标题',\r\n            key: 'title',\r\n            ellipsis: 'true',\r\n            align: 'center'\r\n          },\r\n          {\r\n            title: '作者',\r\n            align: 'center',\r\n            key: 'author',\r\n            render: (h, params) => {\r\n              return h('div', [\r\n                h('span', params.row.author === 'null' ? '' : params.row.author)\r\n              ])\r\n            }\r\n          },\r\n          {\r\n            title: '来源',\r\n            align: 'center',\r\n            key: 'source',\r\n            render: (h, params) => {\r\n              return h('div', [\r\n                h('span', params.row.source === 'null' ? '' : params.row.source)\r\n              ])\r\n            }\r\n          },\r\n          {\r\n            title: '分类',\r\n            align: 'center',\r\n            key: 'classes'\r\n          },\r\n          {\r\n            title: '简介',\r\n            align: 'center',\r\n            ellipsis: 'true',\r\n            key: 'summary',\r\n            render: (h, params) => {\r\n              return h('div', [\r\n                h('span', params.row.summary === 'null' ? '' : params.row.summary)\r\n              ])\r\n            }\r\n          },\r\n          {\r\n            title: '首页是否显示',\r\n            align: 'center',\r\n            key: 'publishFlag',\r\n            sortable: true,\r\n            render: (h, params) => {\r\n              return h('div', [\r\n                h('span', +params.row.publishFlag === 1 ? '显示' : '不显示')\r\n              ])\r\n            }\r\n          },\r\n          {\r\n            title: '状态',\r\n            align: 'center',\r\n            key: 'status',\r\n            sortable: true,\r\n            render: (h, params) => {\r\n              return h('div', [\r\n                h('span', +params.row.status === 1 ? '发布' : '草稿')\r\n              ])\r\n            }\r\n          },\r\n          {\r\n            title: '优先级',\r\n            align: 'center',\r\n            key: 'priority',\r\n          },\r\n          {\r\n            title: '发布时间',\r\n            align: 'center',\r\n            key: 'publishTime',\r\n            sortable: true,\r\n            render: (h, params) => {\r\n              return h('div', [\r\n                h('span', params.row.publishTime.split(' ')[0])\r\n              ])\r\n            }\r\n          },\r\n          {\r\n            title: '操作',\r\n            key: 'action',\r\n            width: 300,\r\n            align: 'center',\r\n            render: (h, params) => {\r\n              const modifyInfo = h('Button', {\r\n                props: {\r\n                  type: 'primary',\r\n                  size: 'small'\r\n                },\r\n                style: {\r\n                  marginRight: '5px'\r\n                },\r\n                on: {\r\n                  click: () => {\r\n                    this.editRow(params)\r\n                  }\r\n                }\r\n              }, '修改');\r\n              const deleteRow = h('Button', {\r\n                props: {\r\n                  type: 'error',\r\n                  size: 'small'\r\n                },\r\n                style: {\r\n                  marginRight: '5px'\r\n                },\r\n                on: {\r\n                  click: () => {\r\n                    this.removeRow(params)\r\n                  }\r\n                }\r\n              }, '删除');\r\n              return h('div', [modifyInfo, deleteRow]);\r\n            }\r\n          }\r\n        ],\r\n        params: {\r\n          pageNumber: 1,\r\n          pageSize: 10\r\n        },\r\n        total: 0,\r\n        url: {\r\n          remove: this.projectName+'/mgmt/news/delete.do'\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      addRow() {\r\n        this.editList = {\r\n          title: '',\r\n          author: '',\r\n          source: '',\r\n          classesId: '',\r\n          summary: '',\r\n          publishFlag: '2',\r\n          publishTime: '',\r\n          content: '',\r\n          priority: 1,\r\n          titleImageUrl:'',\r\n          status: 2\r\n        }\r\n        this.$emit('addNews', {info: this.editList, flag: true})\r\n      },\r\n      async editRow(params) {\r\n        const res = await this.$ajaxPost(this.projectName+'/mgmt/news/find.do',{\r\n          id: params.row.id\r\n        })\r\n        // console.log(res)\r\n        this.editList = {\r\n          id: res.id,\r\n          title: res.title,\r\n          author: res.author === 'null' ? '' : res.author,\r\n          source: res.source === 'null' ? '' : res.source,\r\n          classesId: res.classesId,\r\n          summary: res.summary === 'null' ? '' : res.summary,\r\n          publishFlag: res.publishFlag,\r\n          publishTime: res.publishTime,\r\n          content: res.content,\r\n          priority: Number(res.priority),\r\n          titleImageUrl: res.titleImageUrl,\r\n          status: Number(res.status)\r\n        }\r\n        this.$emit('modifyNews', {info: this.editList, flag: true})\r\n      },\r\n      removeRow(params) {\r\n        this.$Modal.confirm({\r\n          title: '提示',\r\n          content: '<p>确定删除该条数据么？</p>',\r\n          loading: true,\r\n          onOk: () => {\r\n            this.$ajaxPost(this.url.remove, {\r\n              id: params.row.id\r\n            }).then(response => {\r\n              this.$Modal.remove();\r\n              this.$Message.success('删除成功')\r\n              this.loadListData()\r\n            })\r\n          }\r\n        });\r\n      },\r\n      loadListData(params) {\r\n        this.params = params ? Object.assign({}, this.params, params) : this.params\r\n        this.loading = true\r\n        this.$ajaxPost(this.projectName+'/mgmt/news/finds.do',Object.assign({}, this.params)).then(res => {\r\n          // console.log(res)\r\n          this.loading = false\r\n          this.list = res.rows\r\n          this.total = res.total\r\n        })\r\n      },\r\n      pageChange(page) {\r\n        this.params.pageNumber = page\r\n        this.loadListData()\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .page {\r\n    float: right;\r\n    margin: 20px 0;\r\n  }\r\n  .m-marlr {\r\n    margin: 0 16px;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/news/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('query-form',{on:{\"initList\":_vm.loadListData}}),_vm._v(\" \"),_c('Table',{attrs:{\"columns\":_vm.columns,\"data\":_vm.list,\"loading\":_vm.loading,\"no-data-text\":\"没有满足条件的数据.\"}},[_c('Button',{staticClass:\"m-marlr\",attrs:{\"slot\":\"header\",\"type\":\"ghost\"},on:{\"click\":_vm.addRow},slot:\"header\"},[_vm._v(\"新增\")])],1),_vm._v(\" \"),_c('Page',{staticClass:\"page\",attrs:{\"total\":_vm.total,\"show-total\":\"\"},on:{\"on-change\":_vm.pageChange}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6abb1aba\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/news/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6abb1aba\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6abb1aba\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/news/list.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div>\r\n        <div class=\"top\">\r\n            <Button icon=\"ios-arrow-back\" @click=\"handleReset\">返回</Button>\r\n        </div>\r\n        <Form class=\"form\" ref=\"formValidate\" :model=\"formValidate\" :rules=\"ruleValidate\" :label-width=\"120\">\r\n            <FormItem label=\"标题图\" prop=\"titleImageUrl\">\r\n                <Upload v-model=\"formValidate.titleImageUrl\"\r\n                    :action=\"projectName+'/file/fileUpload.do?fileName=newsImage&locker=6f0c077ee53d4aa68b9eae5b3e853bb8'\"\r\n                    name=\"data\"\r\n                    accept='image/*'\r\n                    :on-success=\"uploadS\"\r\n                    :on-error=\"uploadE\"\r\n                    :before-upload=\"beforeUpload\"\r\n                    :on-remove=\"removeUpload\"\r\n                    :default-file-list=\"defaultList\">\r\n                    <Button type=\"ghost\" icon=\"ios-cloud-upload-outline\">点击上传</Button>\r\n                </Upload>\r\n                <span style=\"color: #f56c6c\">建议图片比例16:9</span>\r\n            </FormItem>\r\n            <FormItem label=\"标题\" prop=\"title\">\r\n                <Input v-model=\"formValidate.title\" placeholder=\"请输入标题...\"></Input>\r\n            </FormItem>\r\n            <FormItem label=\"作者\" prop=\"author\">\r\n                <Input v-model=\"formValidate.author\" placeholder=\"请输入作者名称...\"></Input>\r\n            </FormItem>\r\n            <FormItem label=\"来源\" prop=\"source\">\r\n                <Input v-model=\"formValidate.source\" placeholder=\"请输入新闻来源...\"></Input>\r\n            </FormItem>\r\n            <FormItem label=\"分类\" prop=\"classesId\">\r\n                <Select v-model=\"formValidate.classesId\" placeholder=\"请选择分类...\" filterable>\r\n                    <Option :value=\"item.classesId\" v-for=\"item in options.classes\" :key=\"item.classesId\">{{item.classes}}</Option>\r\n                </Select>\r\n            </FormItem>\r\n            <FormItem label=\"是否发布\" prop=\"status\">\r\n                <Select v-model=\"formValidate.status\" placeholder=\"请选择是否发布...\">\r\n                    <Option :value=\"item.value\" v-for=\"item in options.status\" :key=\"item.value\">{{item.text}}</Option>\r\n                </Select>\r\n            </FormItem>\r\n            <FormItem label=\"是否显示在首页\" prop=\"publishFlag\">\r\n                <Select v-model=\"formValidate.publishFlag\" placeholder=\"请选择是否在首页显示...\">\r\n                    <Option :value=\"item.value\" v-for=\"item in options.publishFlag\" :key=\"item.value\">{{item.text}}</Option>\r\n                </Select>\r\n            </FormItem>\r\n            <FormItem label=\"首页显示优先级\" prop=\"priority\">\r\n                <InputNumber :max=\"20\" :min=\"1\" v-model=\"formValidate.priority\"></InputNumber><span class=\"hint-txt\">(注：数值从1至20，数值越低，优先级越高)</span>\r\n            </FormItem>\r\n            <FormItem label=\"发布时间\" prop=\"publishTime\">\r\n                <DatePicker type=\"date\" placeholder=\"请选择发布时间...\" v-model=\"formValidate.publishTime\" format=\"yyyy-MM-dd\"></DatePicker>\r\n            </FormItem>\r\n            <FormItem label=\"简介\" prop=\"summary\">\r\n                <Input v-model=\"formValidate.summary\" placeholder=\"请输入简介...\"></Input>\r\n            </FormItem>\r\n            <FormItem label=\"内容\" prop=\"content\">\r\n                <editor id=\"editor_id\" height=\"500px\" width=\"100%\" :content=\"formValidate.content\"\r\n                    :pluginsPath=\"'/static/kindeditor/plugins/'\"\r\n                    :loadStyleMode=\"false\"\r\n                    :resizeType=\"1\"\r\n                    :wellFormatMode=\"false\"\r\n                    :allowFileManager=\"true\"\r\n                    :uploadJson=\"projectName+'/editor/file/fileUpload.do?locker=6f0c077ee53d4aa68b9eae5b3e853bb8'\"\r\n                    @on-content-change=\"onEditorChange\">\r\n                </editor>\r\n            </FormItem>\r\n        </Form>\r\n\r\n        <div class=\"footer-btn\" slot=\"footer\">\r\n            <Button type=\"primary\" @click=\"handleSubmit('formValidate')\">{{!modify?'新增':'修改'}}</Button>\r\n            <Button type=\"ghost\" @click=\"handleReset\" style=\"margin-left: 8px\">取消</Button>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import moment from 'moment'\r\n    export default {\r\n        props: ['isAdd', 'formValidate', 'modify'],\r\n        data() {\r\n            const validateClasses = (rule, value, callback) => {\r\n                if (!this.formValidate.classesId) {\r\n                    callback(new Error('请选择分类...'));\r\n                } else {\r\n                    callback();\r\n                }\r\n            };\r\n            const validatePF = (rule, value, callback) => {\r\n                if (!this.formValidate.publishFlag) {\r\n                    callback(new Error('请选择是否在首页显示...'));\r\n                } else {\r\n                    callback();\r\n                }\r\n            };\r\n            const validatestatus = (rule, value, callback) => {\r\n                if (!this.formValidate.status) {\r\n                    callback(new Error('请选择是否发布...'));\r\n                } else {\r\n                    callback();\r\n                }\r\n            };\r\n            const validatepriority = (rule, value, callback) => {\r\n                if (+this.formValidate.publishFlag === 1 && !this.formValidate.priority) {\r\n                    callback(new Error('请填写首页显示优先级，数值越低，优先级越高'));\r\n                } else {\r\n                    callback();\r\n                }\r\n            };\r\n            return {\r\n                tagColors: ['blue', 'green', 'red', 'yellow'],\r\n                options: {\r\n                    classes: [],\r\n                    publishFlag: [{\r\n                        text: '显示',\r\n                        value: '1'\r\n                    }, {\r\n                        text: '不显示',\r\n                        value: '2'\r\n                    }],\r\n                    status: [{\r\n                        text: '发布',\r\n                        value: 1\r\n                    }, {\r\n                        text: '草稿',\r\n                        value: 2\r\n                    }]\r\n                },\r\n                ruleValidate: {\r\n                    title: [{\r\n                        required: true,\r\n                        message: '请输入标题...',\r\n                        trigger: 'blur'\r\n                    }],\r\n                    publishTime: {\r\n                        required: true,\r\n                        type: 'date',\r\n                        message: '请选择发布时间...',\r\n                        trigger: 'change'\r\n                    },\r\n                    classesId: {\r\n                        required: true,\r\n                        trigger: 'change',\r\n                        validator: validateClasses\r\n                    },\r\n                    publishFlag: {\r\n                        required: true,\r\n                        validator: validatePF,\r\n                        trigger: 'change'\r\n                    },\r\n                    status: {\r\n                        required: true,\r\n                        validator: validatestatus,\r\n                        trigger: 'change'\r\n                    },\r\n                    content: {\r\n                        required: true\r\n                    },\r\n                    priority: {\r\n                        validator: validatepriority,\r\n                        trigger: 'blur'\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        created() {\r\n            this.getSource()\r\n        },\r\n        computed: {\r\n            // 默认已上传的文件列表\r\n            defaultList() {\r\n                if (this.formValidate.titleImageUrl) {\r\n                    return [{\r\n                    url: this.formValidate.titleImageUrl,\r\n                    name: this.formValidate.titleImageUrl\r\n                    }]\r\n                } else {\r\n                    return []\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            onEditorChange(html) {\r\n                this.formValidate.content = html\r\n            },\r\n            getSource() {\r\n                this.$ajaxPost(this.projectName + '/mgmt/news/findClassesList.do').then(res => {\r\n                    // console.log(res)\r\n                    this.options.classes = res;\r\n                });\r\n            },\r\n            addSubmit() {\r\n                this.$ajaxPost(this.projectName + '/mgmt/news/save.do', this.formValidate).then(res => {\r\n                    this.$Message.success('恭喜你，新增新闻成功!');\r\n                    this.$emit('cancelAdd');\r\n                    this.$refs['formValidate'].resetFields();\r\n                    this.$emit('getList');\r\n                });\r\n            },\r\n            modifySubmit() {\r\n                this.$ajaxPost(this.projectName + '/mgmt/news/update.do', this.formValidate).then(res => {\r\n                    this.$Message.success('恭喜你，新闻修改成功!');\r\n                    this.$emit('cancelAdd');\r\n                    this.$refs['formValidate'].resetFields();\r\n                    this.$emit('getList');\r\n                });\r\n            },\r\n            handleSubmit(name) {\r\n                this.$refs[name].validate((valid) => {\r\n                    if (valid) {\r\n                        this.formValidate.publishTime = moment(this.formValidate.publishTime).format('YYYY-MM-DD')\r\n                        // console.log(this.formValidate)\r\n                        if (this.modify) {\r\n                            this.modifySubmit();\r\n                        } else {\r\n                            this.addSubmit();\r\n                        }\r\n                    } else {\r\n                        let hit = this.modify ? '修改' : '新增';\r\n                        this.$Message.error(hit + '新闻失败，请刷新后重新尝试');\r\n                    }\r\n                })\r\n            },\r\n            handleReset(name) {\r\n                this.$emit('cancelAdd');\r\n                this.$refs['formValidate'].resetFields();\r\n            },\r\n            uploadS(response, file, fileList) {\r\n                if (file.response.error) {\r\n                    this.$Message.error('上传失败，请重新上传');\r\n                } else {\r\n                    this.$Message.success('上传成功！');\r\n                    this.formValidate.titleImageUrl = file.response.message.url;\r\n                }\r\n            },\r\n            uploadE(error, file, fileList) {\r\n                this.$Message.error(error);\r\n            },\r\n            beforeUpload(file) {\r\n                if (file.type.indexOf('image') === -1) {\r\n                    this.$Message.error('请选择图片文件进行上传');\r\n                    return false;\r\n                }\r\n                if (this.formValidate.titleImageUrl) {\r\n                    this.$Message.error('如果想上传新的文件，请先点击文件右侧进行删除后再重新上传！');\r\n                    return false;\r\n                }\r\n            },\r\n            removeUpload(file, fileList) {\r\n                this.formValidate.titleImageUrl = '';\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n    .m-txt-right {\r\n        text-align: center;\r\n    }\r\n    .hint-txt {\r\n        color: red;\r\n        margin-left: 20px;\r\n    }\r\n    .top {\r\n        margin-bottom: 30px;\r\n    }\r\n    .form {\r\n        margin-top: 10px;\r\n    }\r\n    .footer-btn{\r\n        box-sizing: border-box;\r\n        padding: 20px 60px 0;\r\n        border-top: 1px solid #D3D3D3;\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/news/component/add.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"top\"},[_c('Button',{attrs:{\"icon\":\"ios-arrow-back\"},on:{\"click\":_vm.handleReset}},[_vm._v(\"返回\")])],1),_vm._v(\" \"),_c('Form',{ref:\"formValidate\",staticClass:\"form\",attrs:{\"model\":_vm.formValidate,\"rules\":_vm.ruleValidate,\"label-width\":120}},[_c('FormItem',{attrs:{\"label\":\"标题图\",\"prop\":\"titleImageUrl\"}},[_c('Upload',{attrs:{\"action\":_vm.projectName+'/file/fileUpload.do?fileName=newsImage&locker=6f0c077ee53d4aa68b9eae5b3e853bb8',\"name\":\"data\",\"accept\":\"image/*\",\"on-success\":_vm.uploadS,\"on-error\":_vm.uploadE,\"before-upload\":_vm.beforeUpload,\"on-remove\":_vm.removeUpload,\"default-file-list\":_vm.defaultList},model:{value:(_vm.formValidate.titleImageUrl),callback:function ($$v) {_vm.$set(_vm.formValidate, \"titleImageUrl\", $$v)},expression:\"formValidate.titleImageUrl\"}},[_c('Button',{attrs:{\"type\":\"ghost\",\"icon\":\"ios-cloud-upload-outline\"}},[_vm._v(\"点击上传\")])],1),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"#f56c6c\"}},[_vm._v(\"建议图片比例16:9\")])],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"标题\",\"prop\":\"title\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入标题...\"},model:{value:(_vm.formValidate.title),callback:function ($$v) {_vm.$set(_vm.formValidate, \"title\", $$v)},expression:\"formValidate.title\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"作者\",\"prop\":\"author\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入作者名称...\"},model:{value:(_vm.formValidate.author),callback:function ($$v) {_vm.$set(_vm.formValidate, \"author\", $$v)},expression:\"formValidate.author\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"来源\",\"prop\":\"source\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入新闻来源...\"},model:{value:(_vm.formValidate.source),callback:function ($$v) {_vm.$set(_vm.formValidate, \"source\", $$v)},expression:\"formValidate.source\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"分类\",\"prop\":\"classesId\"}},[_c('Select',{attrs:{\"placeholder\":\"请选择分类...\",\"filterable\":\"\"},model:{value:(_vm.formValidate.classesId),callback:function ($$v) {_vm.$set(_vm.formValidate, \"classesId\", $$v)},expression:\"formValidate.classesId\"}},_vm._l((_vm.options.classes),function(item){return _c('Option',{key:item.classesId,attrs:{\"value\":item.classesId}},[_vm._v(_vm._s(item.classes))])}))],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"是否发布\",\"prop\":\"status\"}},[_c('Select',{attrs:{\"placeholder\":\"请选择是否发布...\"},model:{value:(_vm.formValidate.status),callback:function ($$v) {_vm.$set(_vm.formValidate, \"status\", $$v)},expression:\"formValidate.status\"}},_vm._l((_vm.options.status),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.text))])}))],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"是否显示在首页\",\"prop\":\"publishFlag\"}},[_c('Select',{attrs:{\"placeholder\":\"请选择是否在首页显示...\"},model:{value:(_vm.formValidate.publishFlag),callback:function ($$v) {_vm.$set(_vm.formValidate, \"publishFlag\", $$v)},expression:\"formValidate.publishFlag\"}},_vm._l((_vm.options.publishFlag),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.text))])}))],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"首页显示优先级\",\"prop\":\"priority\"}},[_c('InputNumber',{attrs:{\"max\":20,\"min\":1},model:{value:(_vm.formValidate.priority),callback:function ($$v) {_vm.$set(_vm.formValidate, \"priority\", $$v)},expression:\"formValidate.priority\"}}),_c('span',{staticClass:\"hint-txt\"},[_vm._v(\"(注：数值从1至20，数值越低，优先级越高)\")])],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"发布时间\",\"prop\":\"publishTime\"}},[_c('DatePicker',{attrs:{\"type\":\"date\",\"placeholder\":\"请选择发布时间...\",\"format\":\"yyyy-MM-dd\"},model:{value:(_vm.formValidate.publishTime),callback:function ($$v) {_vm.$set(_vm.formValidate, \"publishTime\", $$v)},expression:\"formValidate.publishTime\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"简介\",\"prop\":\"summary\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入简介...\"},model:{value:(_vm.formValidate.summary),callback:function ($$v) {_vm.$set(_vm.formValidate, \"summary\", $$v)},expression:\"formValidate.summary\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"内容\",\"prop\":\"content\"}},[_c('editor',{attrs:{\"id\":\"editor_id\",\"height\":\"500px\",\"width\":\"100%\",\"content\":_vm.formValidate.content,\"pluginsPath\":'/static/kindeditor/plugins/',\"loadStyleMode\":false,\"resizeType\":1,\"wellFormatMode\":false,\"allowFileManager\":true,\"uploadJson\":_vm.projectName+'/editor/file/fileUpload.do?locker=6f0c077ee53d4aa68b9eae5b3e853bb8'},on:{\"on-content-change\":_vm.onEditorChange}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"footer-btn\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.handleSubmit('formValidate')}}},[_vm._v(_vm._s(!_vm.modify?'新增':'修改'))]),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-left\":\"8px\"},attrs:{\"type\":\"ghost\"},on:{\"click\":_vm.handleReset}},[_vm._v(\"取消\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4d9f95e0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/news/component/add.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4d9f95e0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./add.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4d9f95e0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./add.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4d9f95e0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/news/component/add.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <component :is=\"currentView\" :isAdd=\"isAdd\" :modify=\"isModify\" @addNews=\"addNews\" @modifyNews='modifyNews' :formValidate=\"formValidate\" @cancelAdd=\"cancelAdd\"></component>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport list from './list'\r\nimport add from './component/add'\r\nexport default {\r\n  components: {\r\n    list,\r\n    add\r\n  },\r\n  data() {\r\n    return {\r\n      currentView: 'list',\r\n      isAdd: false,\r\n      isModify: false,\r\n      formValidate: {}\r\n    }\r\n  },\r\n  methods: {\r\n    addNews({info, flag}){\r\n      // console.log(info, flag)\r\n      this.formValidate = info\r\n      this.isAdd = flag\r\n      this.isModify = !flag\r\n      this.currentView = flag ? 'add' : 'list'\r\n    },\r\n    modifyNews({info, flag}) {\r\n      this.formValidate = info\r\n      this.isAdd = flag\r\n      this.isModify = flag\r\n      this.currentView = flag ? 'add' : 'list'\r\n    },\r\n    cancelAdd() {\r\n      this.isAdd = false\r\n      this.currentView = 'list'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/about/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c(_vm.currentView,{tag:\"component\",attrs:{\"isAdd\":_vm.isAdd,\"modify\":_vm.isModify,\"formValidate\":_vm.formValidate},on:{\"addNews\":_vm.addNews,\"modifyNews\":_vm.modifyNews,\"cancelAdd\":_vm.cancelAdd}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8cfc27e4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/news/index.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8cfc27e4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/news/index.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"department-manage\">\r\n    <h3>分类</h3>\r\n    <Row>\r\n      <Col span=\"19\">\r\n        <RadioGroup v-model=\"parentClasses\" @on-change=\"clickRadio\">\r\n          <Radio class='radio-list' :label=\"item.classesId\" v-for=\"item in parentList\" :key=\"item.classesId\">{{ item.classes }}</Radio>\r\n        </RadioGroup>\r\n      </Col>\r\n      <Col span=\"5\" style=\"text-align: center\">\r\n        <Button size=\"small\" @click=\"modifyClassify\" :disabled=\"parentClasses === ''\">删除一级分类</Button>\r\n        <Button size=\"small\" type=\"primary\" ghost @click=\"addClassify\" style=\"margin-left: 8px\">添加一级分类</Button>\r\n      </Col>\r\n    </Row>\r\n\r\n    <Table ref=\"selection\" :columns=\"columns\" :data=\"list\" :loading=\"loading\" :no-data-text=\"textTips\" style=\"margin-top: 20px;\">\r\n      <Button type=\"ghost\" slot=\"header\" class=\"m-marlr\" @click=\"addRow\" :disabled=\"parentClasses === ''\">新增</Button>\r\n    </Table>\r\n\r\n    <!-- 添加弹出框 -->\r\n    <Modal v-model=\"addClassesModel\"\r\n      :title=\"modify ?'修改':'添加'\"\r\n      :mask-closable=\"false\" :closable=\"false\">\r\n      <Form ref=\"formValidate\" :model=\"formValidate\" :rules=\"ruleValidate\" :label-width=\"50\">\r\n        <FormItem label=\"名称\" prop=\"classes\">\r\n          <Input type=\"text\" v-model=\"formValidate.classes\" placeholder=\"请输入名称\"></Input>\r\n        </FormItem>\r\n      </Form>\r\n      <div slot=\"footer\">\r\n        <Button type=\"primary\" @click=\"handleSubmit('formValidate')\">{{modify?'修改':'新增'}}</Button>\r\n        <Button type=\"ghost\" @click=\"handleReset('formValidate')\" style=\"margin-left: 8px\">取消</Button>\r\n      </div>\r\n    </Modal>\r\n    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      parentClasses: '',\r\n      parentList: [],\r\n      allList: [],\r\n      clickId: null,\r\n      addClassesModel: false,\r\n      formValidate: {\r\n        classes: '',\r\n        parentId: 0\r\n      },\r\n      modify: false,\r\n      ruleValidate: {\r\n        classes: [\r\n          { required: true, message: '输入分类名称...', trigger: 'blur' }\r\n        ]\r\n      },\r\n      list: [],\r\n      loading: false,\r\n      textTips: '暂无数据',\r\n      columns: [\r\n        {\r\n          title: '二级分类名称',\r\n          key: 'classes',\r\n          align: 'center'\r\n        },\r\n        {\r\n          title: '操作',\r\n          key: 'action',\r\n          align: 'center',\r\n          render: (h, params) => {\r\n            const modifyInfo = h('Button', {\r\n              props: {\r\n                type: 'primary',\r\n                size: 'small'\r\n              },\r\n              style: {\r\n                marginRight: '5px'\r\n              },\r\n              on: {\r\n                click: () => {\r\n                  this.editRow(params)\r\n                }\r\n              }\r\n            }, '修改')\r\n            const deleteInfo = h('Button', {\r\n              props: {\r\n                type: 'error',\r\n                size: 'small'\r\n              },\r\n              style: {\r\n                marginRight: '5px'\r\n              },\r\n              on: {\r\n                click: () => {\r\n                  this.removeRow(params.row)\r\n                }\r\n              }\r\n            }, '删除')\r\n            return h('div', [modifyInfo, deleteInfo]);\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  created() {\r\n    this.getParentList()\r\n  },\r\n  methods: {\r\n    // 加载部门分类\r\n    async getParentList() {\r\n      const res = await this.$ajaxPost(this.projectName + '/mgmt/news/findClassesList.do')\r\n      // console.log(res)\r\n      this.allList = res\r\n      this.parentList = res.filter(item => item.parentId === 0)\r\n    },\r\n    // 切换部门分类\r\n    async clickRadio(name) {\r\n      // console.log(name)\r\n      this.clickId = name\r\n      this.list = this.allList.filter(item => item.parentId === this.clickId)\r\n    },\r\n    // 添加一级分类\r\n    addClassify() {\r\n      this.addClassesModel = true\r\n      this.modify = false\r\n      this.formValidate = {\r\n        classes: '',\r\n        parentId: 0\r\n      }\r\n    },\r\n    // 删除一级分类\r\n    modifyClassify() {\r\n      const info = this.parentList.filter(item => item.classesId === this.clickId)[0]\r\n      // console.log(info)\r\n      this.formValidate = {\r\n        classes: info.classes,\r\n        parentId: 0,\r\n        classesId: this.clickId\r\n      }\r\n      this.removeRow(this.formValidate)\r\n    },\r\n    // 删除\r\n    removeRow(params) {\r\n      // console.log(params)\r\n      const flag = Boolean(params.parentId === 0)\r\n      this.$Modal.confirm({\r\n        title: '提示',\r\n        content: flag ? '<p>此操作会删除该分类下所有分类，是否继续?</p>' : '<p>删除该分类，是否继续?</p>',\r\n        loading: true,\r\n        onOk: () => {\r\n          this.$ajaxPost(this.projectName+'/mgmt/news/deleteNewsClasses.do',{\r\n            classesId: params.classesId\r\n          }).then(res => {\r\n            this.$Message.success('删除成功！')\r\n            this.$Modal.remove()\r\n            \r\n            this.getParentList()\r\n            if(flag){\r\n              this.parentClasses = ''\r\n              this.list = []\r\n            }else{\r\n              this.clickRadio(this.clickId)\r\n            }\r\n          }).catch(err => {\r\n            this.$Message.warning('删除失败，请重新删除')\r\n          })\r\n        }\r\n      })\r\n    },\r\n    // 确定添加\r\n    handleSubmit (name) {\r\n      this.$refs[name].validate(async (valid) => {\r\n        if (valid) {\r\n          // console.log(this.formValidate)\r\n          const res = await this.$ajaxPost(this.modify ? this.projectName + '/mgmt/news/updateNewsClasses.do' :this.projectName + '/mgmt/news/saveNewsClasses.do', this.formValidate)\r\n          this.$Message.success(this.modify ?'修改成功!':'新增成功!')\r\n          this.getParentList()\r\n          this.addClassesModel = false\r\n          this.clickRadio(this.clickId)\r\n          this.handleReset(name)\r\n        } else {\r\n          this.$Message.error('填写有误，请检查后进行下一步操作!')\r\n        }\r\n      })\r\n    },\r\n    // 取消添加\r\n    handleReset (name) {\r\n      this.$refs[name].resetFields()\r\n      this.addClassesModel = false\r\n    },\r\n    // 新增部门\r\n    addRow() {\r\n      this.addClassesModel = true\r\n      this.modify = false\r\n      this.formValidate.parentId = this.clickId\r\n    },\r\n    // 修改子级\r\n    editRow(params) {\r\n      // console.log(params)\r\n      const res = params.row\r\n      this.addClassesModel = true\r\n      this.modify = true\r\n      this.formValidate = {\r\n        classes: res.classes,\r\n        classesId: res.classesId,\r\n        parentId: res.parentId\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    allList: {\r\n      handler(newName, oldName) {\r\n        this.list = newName.filter(item => item.parentId === this.clickId)\r\n      },\r\n      // 代表在wacth里声明了firstName这个方法之后立即先去执行handler方法\r\n      deep: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .department-manage{\r\n    h3{\r\n      padding:0 0 10px 0;\r\n    }\r\n    .radio-list{\r\n      margin-right: 30px;\r\n    }\r\n    .active{\r\n      color: #f56c6c;\r\n    }\r\n    .m-marlr {\r\n      margin: 0 16px;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/news/combox.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"department-manage\"},[_c('h3',[_vm._v(\"分类\")]),_vm._v(\" \"),_c('Row',[_c('Col',{attrs:{\"span\":\"19\"}},[_c('RadioGroup',{on:{\"on-change\":_vm.clickRadio},model:{value:(_vm.parentClasses),callback:function ($$v) {_vm.parentClasses=$$v},expression:\"parentClasses\"}},_vm._l((_vm.parentList),function(item){return _c('Radio',{key:item.classesId,staticClass:\"radio-list\",attrs:{\"label\":item.classesId}},[_vm._v(_vm._s(item.classes))])}))],1),_vm._v(\" \"),_c('Col',{staticStyle:{\"text-align\":\"center\"},attrs:{\"span\":\"5\"}},[_c('Button',{attrs:{\"size\":\"small\",\"disabled\":_vm.parentClasses === ''},on:{\"click\":_vm.modifyClassify}},[_vm._v(\"删除一级分类\")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-left\":\"8px\"},attrs:{\"size\":\"small\",\"type\":\"primary\",\"ghost\":\"\"},on:{\"click\":_vm.addClassify}},[_vm._v(\"添加一级分类\")])],1)],1),_vm._v(\" \"),_c('Table',{ref:\"selection\",staticStyle:{\"margin-top\":\"20px\"},attrs:{\"columns\":_vm.columns,\"data\":_vm.list,\"loading\":_vm.loading,\"no-data-text\":_vm.textTips}},[_c('Button',{staticClass:\"m-marlr\",attrs:{\"slot\":\"header\",\"type\":\"ghost\",\"disabled\":_vm.parentClasses === ''},on:{\"click\":_vm.addRow},slot:\"header\"},[_vm._v(\"新增\")])],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":_vm.modify ?'修改':'添加',\"mask-closable\":false,\"closable\":false},model:{value:(_vm.addClassesModel),callback:function ($$v) {_vm.addClassesModel=$$v},expression:\"addClassesModel\"}},[_c('Form',{ref:\"formValidate\",attrs:{\"model\":_vm.formValidate,\"rules\":_vm.ruleValidate,\"label-width\":50}},[_c('FormItem',{attrs:{\"label\":\"名称\",\"prop\":\"classes\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"请输入名称\"},model:{value:(_vm.formValidate.classes),callback:function ($$v) {_vm.$set(_vm.formValidate, \"classes\", $$v)},expression:\"formValidate.classes\"}})],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.handleSubmit('formValidate')}}},[_vm._v(_vm._s(_vm.modify?'修改':'新增'))]),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-left\":\"8px\"},attrs:{\"type\":\"ghost\"},on:{\"click\":function($event){_vm.handleReset('formValidate')}}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4e32b688\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/news/combox.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4e32b688\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./combox.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./combox.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./combox.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4e32b688\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./combox.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4e32b688\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/news/combox.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}