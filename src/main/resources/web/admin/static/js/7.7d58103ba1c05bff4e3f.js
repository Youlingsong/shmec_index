webpackJsonp([7],{NVz9:function(t,e){},TcxB:function(t,e){},oF1k:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("woOf"),a=i.n(s),o=(i("BTaQ"),{created:function(){this.loadListData()},data:function(){var t=this;return{isAdd:!1,ismodify:!1,editList:{},list:[],loading:!1,columns:[{title:"标题",key:"title",ellipsis:"true",align:"center"},{title:"版本",align:"center",key:"version"},{title:"操作",key:"action",width:300,align:"center",render:function(e,i){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.editRow(i)}}},"修改"),e("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.removeRow(i)}}},"删除")])}}],params:{pageNumber:1,pageSize:10},url:{remove:this.projectName+"/mgmt/document/delete.do"}}},methods:{addRow:function(){this.editList={title:"",content:""},this.$emit("addNews",{info:this.editList,flag:!0})},editRow:function(t){var e=t.row;this.editList={id:e.id,title:e.title,content:e.content},this.$emit("modifyNews",{info:this.editList,flag:!0})},removeRow:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"<p>确定删除该条数据么？</p>",loading:!0,onOk:function(){e.$ajaxPost(e.url.remove,{id:t.row.id}).then(function(t){e.$Modal.remove(),e.$Message.success("删除成功"),e.loadListData()})}})},loadListData:function(t){var e=this;this.params=t?a()({},this.params,t):this.params,this.loading=!0,this.$ajaxPost(this.projectName+"/mgmt/document/finds.do",a()({},this.params)).then(function(t){e.loading=!1,e.list=t})}}}),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Table",{attrs:{columns:this.columns,data:this.list,loading:this.loading,"no-data-text":"没有满足条件的数据."}},[e("Button",{staticClass:"m-marlr",attrs:{slot:"header",type:"ghost"},on:{click:this.addRow},slot:"header"},[this._v("新增")])],1)],1)},staticRenderFns:[]};var d=i("VU/8")(o,n,!1,function(t){i("NVz9")},null,null).exports,r=(i("PJh5"),{render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"top"},[i("Button",{attrs:{icon:"ios-arrow-back"},on:{click:t.handleReset}},[t._v("返回")])],1),t._v(" "),i("Form",{ref:"formValidate",staticClass:"form",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":120}},[i("FormItem",{attrs:{label:"标题",prop:"title"}},[i("Input",{attrs:{placeholder:"请输入标题..."},model:{value:t.formValidate.title,callback:function(e){t.$set(t.formValidate,"title",e)},expression:"formValidate.title"}})],1),t._v(" "),i("FormItem",{attrs:{label:"内容",prop:"content"}},[i("editor",{attrs:{id:"editor_id",height:"500px",width:"100%",content:t.formValidate.content,pluginsPath:"/static/kindeditor/plugins/",loadStyleMode:!1,resizeType:1,wellFormatMode:!1,allowFileManager:!0,uploadJson:t.projectName+"/editor/file/fileUpload.do?locker=6f0c077ee53d4aa68b9eae5b3e853bb8"},on:{"on-content-change":t.onEditorChange}})],1)],1),t._v(" "),i("div",{staticClass:"footer-btn",attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("formValidate")}}},[t._v(t._s(t.modify?"修改":"新增"))]),t._v(" "),i("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"ghost"},on:{click:t.handleReset}},[t._v("取消")])],1)],1)},staticRenderFns:[]});var l={components:{list:d,add:i("VU/8")({props:["isAdd","formValidate","modify"],data:function(){return{tagColors:["blue","green","red","yellow"],options:{classes:[]},ruleValidate:{title:[{required:!0,message:"请输入标题...",trigger:"blur"}],content:{required:!0}}}},created:function(){},methods:{onEditorChange:function(t){this.formValidate.content=t},addSubmit:function(){var t=this;this.$ajaxPost(this.projectName+"/mgmt/document/save.do",this.formValidate).then(function(e){t.$Message.success("恭喜你，新增成功!"),t.$emit("cancelAdd"),t.$refs.formValidate.resetFields(),t.$emit("getList")})},modifySubmit:function(){var t=this;this.$ajaxPost(this.projectName+"/mgmt/document/update.do",this.formValidate).then(function(e){t.$Message.success("恭喜你，修改成功!"),t.$emit("cancelAdd"),t.$refs.formValidate.resetFields(),t.$emit("getList")})},handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(t)e.modify?e.modifySubmit():e.addSubmit();else{var i=e.modify?"修改":"新增";e.$Message.error(i+"信息失败，请刷新后重新尝试")}})},handleReset:function(t){this.$emit("cancelAdd"),this.$refs.formValidate.resetFields()}}},r,!1,function(t){i("TcxB")},"data-v-27b45ffa",null).exports},data:function(){return{currentView:"list",isAdd:!1,isModify:!1,formValidate:{}}},methods:{addNews:function(t){var e=t.info,i=t.flag;this.formValidate=e,this.isAdd=i,this.isModify=!i,this.currentView=i?"add":"list"},modifyNews:function(t){var e=t.info,i=t.flag;this.formValidate=e,this.isAdd=i,this.isModify=i,this.currentView=i?"add":"list"},cancelAdd:function(){this.isAdd=!1,this.currentView="list"}}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e(this.currentView,{tag:"component",attrs:{isAdd:this.isAdd,modify:this.isModify,formValidate:this.formValidate},on:{addNews:this.addNews,modifyNews:this.modifyNews,cancelAdd:this.cancelAdd}})],1)},staticRenderFns:[]},f=i("VU/8")(l,c,!1,null,null,null);e.default=f.exports}});
//# sourceMappingURL=7.7d58103ba1c05bff4e3f.js.map