webpackJsonp([3],{IA3m:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]},s=n("VU/8")(null,a,!1,null,null,null);e.default=s.exports},KItN:function(t,e,n){t.exports=n.p+"static/img/logo.d5cb522.png"},VWN1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Dd8w"),s=n.n(a),r=n("lbHh"),i=n.n(r),o=n("NYxO"),u={data:function(){return{menuActiveNames:"",subMenuActive:[]}},created:function(){this.initMenuActiveName()},methods:{initMenuActiveName:function(){this.menuActiveNames=this.$route.name,this.subMenuActive.splice(0,1,this.$route.meta.parent)},toPath:function(t){this.$router.push({name:t})},gotoInfo:function(){this.$router.push("/info")},logout:function(){var t=this;this.$ajaxPost(this.projectName+"/staff/logout.do").then(function(e){t.$Message.success("恭喜你，成功退出!"),i.a.remove("Temp-User"),i.a.remove("administratorFlag"),i.a.remove("U-ID"),t.$router.replace("/login")})}},computed:s()({},Object(o.b)(["menus"]),{currName:function(){return JSON.parse(i.a.get("Temp-User")).name},isAdminFlag:function(){return!("1"!==+i.a.get("administratorFlag"))}})},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"layouts"},[n("Layout",[n("Sider",{staticClass:"side-wrap"},[n("h3",{staticClass:"site-name"},[t._v("上海学前教育监测数据系统平台")]),t._v(" "),n("Menu",{attrs:{theme:"dark",width:"auto","active-name":t.menuActiveNames,"open-names":t.subMenuActive,accordion:!0},on:{"on-select":t.toPath}},[t._l(t.menus,function(e){return[e.children?n("Submenu",{key:e.name,attrs:{name:e.name}},[n("template",{slot:"title"},[e.icon?n("Icon",{attrs:{type:e.icon}}):t._e(),t._v(" "),n("span",[t._v(t._s(e.title))])],1),t._v(" "),t._l(e.children,function(e){return n("MenuItem",{key:e.path,attrs:{name:e.name}},[t._v(t._s(e.title))])})],2):t._e(),t._v(" "),e.children?t._e():n("MenuItem",{key:e.path,staticClass:"g-item-normal",attrs:{name:e.name}},[t._v(t._s(e.title))])]})],2),t._v(" "),n("div",{attrs:{slot:"trigger"},slot:"trigger"})],1),t._v(" "),n("Layout",[n("Header",{staticClass:"layout-header-bar"},[n("h2",{staticClass:"breadcrumb"},[t._v(t._s(this.$route.name))]),t._v(" "),n("Poptip",{staticClass:"avatar-wrap"},[n("div",{staticStyle:{cursor:"pointer"}},[n("Avatar",{staticClass:"avatar",attrs:{icon:"person"}}),n("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.currName))])],1),t._v(" "),n("div",{staticStyle:{"text-align":"center"},attrs:{slot:"content"},slot:"content"},[n("Button",{staticClass:"login-menu",attrs:{type:"text"},on:{click:t.gotoInfo}},[t._v("个人中心")]),t._v(" "),n("Button",{staticClass:"login-menu",attrs:{type:"text"},on:{click:t.logout}},[t._v("退出登录")])],1)])],1),t._v(" "),n("Content",{staticClass:"content-wrap"},[n("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var l=n("VU/8")(u,c,!1,function(t){n("u0ZH")},"data-v-3489dd1c",null);e.default=l.exports},W2Q3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Xxa5"),s=n.n(a),r=n("mvHQ"),i=n.n(r),o=n("exGp"),u=n.n(o),c=n("lbHh"),l=n.n(c),m={data:function(){return{form:{name:"",password:""}}},methods:{loginAdmin:function(){this.judgyInfo()},judgyInfo:function(){var t=this;return u()(s.a.mark(function e(){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(/^(\w){6,20}$/.exec(t.form.password)){e.next=4;break}return t.$Message.error("请输入由6-20个字母、数字、下划线组成的密码..."),e.abrupt("return");case 4:if(/^([a-zA-Z0-9]|[\u4E00-\u9FA5]|[._]){2,20}$/.exec(t.form.name)){e.next=8;break}return t.$Message.error("请输入2-20位由字母、汉字、数字、“_”、“.”的用户名"),e.abrupt("return");case 8:return e.next=10,t.$ajaxPost(t.projectName+"/staff/login.do",t.form);case 10:n=e.sent,t.$Message.success("恭喜您登陆成功！"),l.a.set("Temp-User",i()(n)),l.a.set("administratorFlag",n.adminFlag),l.a.set("U-ID",n.id),t.$router.replace("/");case 16:case"end":return e.stop()}},e,t)}))()}}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"signin"},[n("form",{staticClass:"box",attrs:{autocomplete:"smartystreets"}},[t._m(0),t._v(" "),n("div",{staticClass:"input-field"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.name,expression:"form.name",modifiers:{trim:!0}}],attrs:{type:"text",autocomplete:"smartystreets",required:""},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),n("span",{staticClass:"highlight"}),t._v(" "),n("span",{staticClass:"bar"}),t._v(" "),n("label",[t._v("用户名")])]),t._v(" "),n("div",{staticClass:"input-field password"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.password,expression:"form.password",modifiers:{trim:!0}}],attrs:{type:"password",autocomplete:"smartystreets",required:""},domProps:{value:t.form.password},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.loginAdmin(e):null},input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),n("span",{staticClass:"highlight"}),t._v(" "),n("span",{staticClass:"bar"}),t._v(" "),n("label",[t._v("密码")])]),t._v(" "),n("div",[n("Button",{staticClass:"btn-signin",on:{click:t.loginAdmin,keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.loginAdmin(e):null}}},[t._v("登录")])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:n("KItN"),alt:""}})])}]};var v=n("VU/8")(m,d,!1,function(t){n("iaDp")},"data-v-05557888",null);e.default=v.exports},iaDp:function(t,e){},u0ZH:function(t,e){}});
//# sourceMappingURL=3.0fbdfb2b45ca23100062.js.map